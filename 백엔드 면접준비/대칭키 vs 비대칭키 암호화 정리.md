# 대칭키 vs 비대칭키 암호화 정리

## 1) 개념
- **대칭키 암호화(Symmetric Key Cryptography)**: 암호화와 복호화에 **같은 키**를 사용.  
  예) AES, ChaCha20, 3DES(구식).
- **비대칭키 암호화(Asymmetric / Public-Key Cryptography)**: **공개키**로 암호화하고 **개인키**로 복호화(또는 그 반대).  
  예) RSA, ECC(ECDSA/ECIES), ElGamal.

## 2) 장단점 비교
| 구분 | 대칭키 | 비대칭키 |
|---|---|---|
| 성능 | 매우 빠름 (대량 데이터 적합) | 상대적으로 느림 (고비용 연산) |
| 키 관리 | 키 분배/교환이 어려움, 통신 쌍마다 키 필요 | 공개키 배포 용이, 개인키 비밀 유지 |
| 보안 특성 | 기밀성에 강점 | 기밀성+서명/인증/무결성/부인방지에 활용 |
| 구현 난이도 | 단순 | 상대적으로 복잡 (PKI, 인증서 등) |

## 3) 대표 알고리즘과 용도
- **대칭키**: AES-GCM(기밀성+무결성), AES-CBC(무결성 추가 필요), ChaCha20-Poly1305(모바일/저전력 적합).  
- **비대칭키**: RSA(암/복호, 서명/검증), **ECC**(짧은 키로 높은 보안성, 서명·키합의), DH/ECDH(키 합의).

## 4) 키 교환·서명·인증
- **키 교환 문제**: 대칭키는 안전한 초기 공유 경로가 필요. 공개키 암호는 **공개키로 대칭 세션키를 안전하게 교환**하는 데 사용.
- **디지털 서명**: 개인키로 **서명**, 공개키로 **검증** → 위변조 탐지, 작성자 인증, 부인방지.
- **인증서/PKI**: 공개키가 진짜인지 **CA가 서명한 인증서**로 검증(신뢰사슬).

## 5) 하이브리드 구조(현대 프로토콜의 표준 패턴)
- 실제 서비스는 **두 방식을 결합**:
  1. **비대칭키(또는 키합의)**로 **세션 대칭키**를 협상/교환 (예: RSA, (EC)DHE).
  2. 협상된 세션키로 **대칭키 암호(AES-GCM/ChaCha20-Poly1305)**로 대량 데이터 전송.
- 예) **TLS(HTTPS)** 핸드셰이크: 서버 인증서(공개키) 검증 → (EC)DHE로 키 합의 → 이후 트래픽은 대칭키로 고속 암호화.

## 6) 언제 무엇을 쓰나?
- **대량 데이터 전송/저장**: 대칭키(AES-GCM, ChaCha20-Poly1305).  
- **안전한 키 교환/서명/인증**: 비대칭키(RSA/ECDSA + (EC)DH).  
- **실전**: “**비대칭으로 키를 만들고, 대칭으로 데이터를 보낸다**”(하이브리드).

## 7) 보안 팁 & 주의사항
- **키 길이**: AES-128/256, RSA ≥ 2048-bit, ECC는 256-bit 곡선(secp256r1, X25519 등) 권장.
- **운용 모드**: 대칭키는 **GCM/Poly1305** 등 **AEAD** 사용(기밀성+무결성). CBC 사용 시 **패딩 오라클** 등 취약점 주의.
- **무결성**: 순수 암호화만으로는 부족. **서명** 또는 **AEAD**로 위·변조 방지.
- **키 보관**: 개인키는 HSM/KMS, 최소권한·회전정책(키 로테이션) 적용. 공개키는 인증서로 배포.
- **랜덤성**: 세션키·nonce는 **암호학적 안전 난수(CSPRNG)** 사용.
- **성능**: 모바일/저전력 환경은 **ChaCha20-Poly1305**가 AES보다 유리할 수 있음.

## 8) 간단 예시(개념 흐름)
1) **수신자**가 공개키/개인키를 생성하여 공개키를 배포.
2) **송신자**가 수신자의 공개키로 **세션키(대칭키)**를 암호화해 전송.
3) 수신자는 개인키로 세션키를 복호화.
4) 이후 본문 데이터는 **세션키(AES-GCM 등)**로 고속 암복호.

---

### 요약
- **대칭키**: 빠르지만 **키 교환/관리**가 어렵다.  
- **비대칭키**: **키 교환/서명/인증**에 강하지만 느리다.  
- **현대 보안 통신은 둘을 결합**하여 각자의 강점을 취한다.
