
# 🧠 React의 렌더링 과정: Render Phase vs Commit Phase

React의 렌더링 과정은 크게 두 가지 단계로 나눌 수 있습니다:

- **Render Phase**
- **Commit Phase**

---

## 🌀 Render Phase

Render Phase는 리액트가 변화된 상태(state)나 props에 따라 **어떤 UI가 변경되어야 할지를 결정하는 계산 단계**입니다.

- 실제로 DOM을 변경하지 않고, **가상 DOM(Virtual DOM)** 상에서 변경사항을 계산합니다.
- 이 단계는 **순수한 계산 로직**만 포함되어 있어, 성능을 위해 **중단되거나 다시 실행될 수 있습니다**.
- React 18의 **Concurrent Mode**를 통해 이 과정은 **비동기적으로 처리될 수 있습니다**.

> 🔍 요약: Render Phase는 "무엇이 바뀌어야 하는가?"를 판단하는 **계산 단계**입니다.

---

## ✅ Commit Phase

Commit Phase는 Render Phase에서 계산된 결과를 **실제로 DOM에 반영하는 단계**입니다.

- 가상 DOM에서 계산된 변경사항을 **실제 DOM에 적용**합니다.
- 브라우저에 **변경된 UI를 렌더링**합니다.
- 이 시점에서 **`useEffect`, `useLayoutEffect`** 같은 사이드 이펙트 관련 훅들이 실행됩니다.

> 🔍 요약: Commit Phase는 계산된 결과를 **"어떻게 반영할 것인가?"**를 처리하는 **DOM 업데이트 단계**입니다.

---

## 🧩 Render Phase와 Commit Phase가 동기화될 때의 특징

React의 렌더링 단계는 명확히 분리되어 있지만, 동기화가 필요한 상황에서는 다음과 같은 특징이 있습니다:

### 1. 📌 단계적 진행

- Render Phase가 완료되었더라도 React는 **즉시 Commit Phase를 실행하지 않을 수 있습니다**.
- 더 **높은 우선순위 작업이 있다면 먼저 처리**하고 나중에 Commit Phase를 실행합니다.
- 이를 통해 **작업의 우선순위를 유연하게 관리**하여 사용자 경험을 최적화합니다.

### 2. 🛠️ 병목 관리

- 모든 변경사항이 Fiber Tree에 준비된 후에 Commit Phase로 넘어가므로, **Render와 Commit 사이의 일관성이 유지됩니다**.
- 두 단계가 **명확히 순차적으로 작동**하기 때문에, **불필요한 재렌더링을 방지**하고 성능을 관리할 수 있습니다.

---

## 🧾 요약

| 단계         | 주요 역할                              | 비고                               |
|--------------|----------------------------------------|------------------------------------|
| Render Phase | UI 변경 사항 계산 (가상 DOM)             | 중단/재실행 가능, 비동기 가능     |
| Commit Phase | 실제 DOM 업데이트 및 사이드이펙트 실행 | 순차적으로 실행, 일관성 유지       |
