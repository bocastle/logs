# ⚙️ Next.js Middleware에 대해서 설명해주세요

Next.js의 **미들웨어(Middleware)**는 **요청이 완료되기 전에 코드를 실행할 수 있게 해주는 기능**입니다.  
미들웨어는 `middleware.ts` 파일로 프로젝트 루트나 `src` 디렉토리에 위치합니다.  
**서버 사이드(Server Side)**에서 실행되며,  
요청이 **라우트 핸들러나 페이지에 도달하기 전에** 동작합니다.

---

## 🧩 사용 예시

미들웨어는 주로 다음과 같은 기능에 활용됩니다.

- **인증 및 권한 검사**
- **리다이렉션 처리**
- **요청/응답 헤더 수정**

미들웨어는 **Edge Runtime**에서 실행되어 매우 빠른 성능을 제공합니다.  
하지만 이로 인해 **Node.js API의 일부만 사용 가능**합니다.

---

## ⚡ Edge Runtime이란? 🤔

**Edge Runtime**은 **서버리스(Serverless)** 환경에서 실행되는  
**경량화된 JavaScript 런타임**입니다.  
CDN의 **엣지 노드(Edge Node)**에서 코드를 실행하여  
사용자와 가장 가까운 위치에서 빠른 응답을 제공합니다.

전 세계 여러 지역에 분산된 엣지 서버에서 코드를 실행하기 때문에,  
**콜드 스타트가 거의 없고 매우 빠른 응답 시간**을 가집니다.

### 🚫 사용 불가능한 기능

- `fs` (파일 시스템 접근)
- `worker_threads` (워커 스레드)

### ✅ 사용 가능한 기능

- `fetch`
- `URL`, `URLSearchParams`

---

## 💡 실제 사용 예시 🤔

실제 프로젝트에서는 **인증 검사**와 **리다이렉션 로직**을 미들웨어로 구현했습니다.

예를 들어,  
**로그인하지 않은 사용자가 대시보드에 접근하려고 할 때**,  
서버단에서 **로그인 페이지로 리다이렉트**시켜  
보안성을 높이는 방식으로 사용했습니다.
