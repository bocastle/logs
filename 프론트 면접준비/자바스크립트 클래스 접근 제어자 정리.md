# 자바스크립트 클래스 접근 제어자 정리

## 1) JavaScript에서의 접근 제어

### Public (기본값)

- **기본 접근 수준**: 별도 키워드가 없으면 public으로 취급됩니다.
- **접근 범위**: 클래스 **외부에서도** 인스턴스를 통해 접근 가능.
- **예시**

```js
class User {
  name = "John"; // public
}
const u = new User();
console.log(u.name); // OK
```

### Private (#)

- **문법**: 필드/메서드 이름 앞에 `#`를 붙입니다.
- **접근 범위**: **클래스 내부에서만** 접근 가능.
- **상속**: 서브클래스에서도 직접 접근 불가.
- **특징**
  - 런타임에서 실제로 접근이 차단됩니다(언어 차원의 프라이빗).
  - 대괄호 접근(`obj["#x"]`) 같은 우회도 불가능합니다.
- **예시**

```js
class Vault {
  #secret = "hidden";
  reveal() {
    return this.#secret; // OK
  }
}
const v = new Vault();
// v.#secret; // SyntaxError
```

### Protected (언어 차원 미지원)

- JavaScript에는 **protected 키워드가 없습니다.**
- 관습적으로 `_field`처럼 **언더스코어 접두어**로 “외부에서 쓰지 말자”는 약속을 표현합니다.
- **강제력 없음**: 외부에서 접근이 가능하므로, 협업 규칙/린트 규칙(ESLint 등)로 보완하는 경우가 많습니다.
- **예시**

```js
class Base {
  _helper() {
    /* protected 의도 */
  }
}
```

---

## 2) TypeScript에서의 차이점

### (1) 명시적 키워드 지원: public / private / protected

- **public**: 기본값이지만 명시 가능
- **private**: 클래스 내부에서만 접근 가능 (컴파일 타임 제약)
- **protected**: 클래스 내부 + 서브클래스에서 접근 가능, 외부 인스턴스에서는 접근 불가 (컴파일 타임 제약)

```ts
class Foo {
  public a: string; // 상속 O / 외부 O
  private b: number; // 상속 X / 외부 X
  protected c: boolean; // 상속 O / 외부 X

  constructor(a: string, b: number, c: boolean) {
    this.a = a;
    this.b = b;
    this.c = c;
  }
}
```

> 참고: TypeScript의 `private/protected`는 기본적으로 **타입 검사 단계에서만** 제약이 걸립니다.  
> 런타임 차단이 필요하면 JS의 `#private` 필드(ECMAScript private fields)를 사용합니다.  
> (`private x: number` vs `#x: number`는 성격이 다릅니다.)

### (2) 파라미터 프로퍼티(Parameter Properties)

- 생성자 매개변수에 접근 제어자를 붙이면 **필드 선언 + 초기화**를 자동으로 수행합니다.

```ts
class Foo {
  constructor(
    public a: string,
    private b: number,
    protected c: boolean,
  ) {}
}
```

---

## 3) 선택 가이드

- **외부에 공개해도 되는 API** → public
- **런타임에서 확실히 숨겨야 하는 내부 상태** → JS `#private`
- **상속 구조에서 하위 클래스에만 열어두고 싶음** → TS `protected` (또는 설계 자체를 조정)
- **단순 컨벤션 표시만 필요** → `_prefix` + 린트 규칙(권장)
