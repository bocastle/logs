# 🌐 리액트 동시성 모드 (Concurrent Mode)

리액트의 **동시성 모드**는 여러 작업을 비동기적으로 동시에 처리하면서도, 중간에 더 중요한 작업이 들어오면 **우선순위를 바꿔서 먼저 처리**할 수 있는 기능입니다.

## 🔁 기존 방식 vs 동시성 모드

예전 리액트는 **스택 구조**로 동작하여, 한 번 렌더링이 시작되면 **끝까지 멈추지 않고 처리**해야 했습니다.

> ❌ 중단 불가, 우선순위 없음

동시성 모드에서는 작업을 **중간에 멈추거나, 뒤로 미루는 것이 가능**하여, **더 중요한 작업을 먼저** 처리할 수 있게 되었습니다.

> ✅ 중단 가능, 우선순위 고려

## 💡 예시: 검색창 입력

사용자가 검색어를 입력하면 검색 결과가 업데이트됩니다.  
이때, 검색어 입력은 **즉각 반영되어야 하는 중요한 작업**이고,  
검색 결과는 **덜 중요한 작업**이기 때문에 **백그라운드에서 처리**할 수 있습니다.

## ⚙️ 동시성을 활용한 기능들

### 1. `startTransition`

```js
import { startTransition } from "react";

startTransition(() => {
  setSearchResults(filteredData);
});
```

- 덜 중요한 작업을 트랜지션으로 감싸서 백그라운드에서 실행
- 입력, 클릭 같은 중요한 UI 반응이 먼저 처리됨

---

### 2. `useDeferredValue`

```js
const deferredQuery = useDeferredValue(searchQuery);
```

- 입력값을 **지연 업데이트**시켜 급격한 리렌더링을 방지
- 빠르게 입력해도 UI는 부드럽게 유지됨

---

## 🚀 장점

- **스크롤, 클릭, 입력** 같은 사용자 상호작용을 우선 처리
- 무거운 작업은 **백그라운드 처리**
- UI가 **더 자연스럽고 부드럽게 반응**

---

## ⚠️ 주의할 점

- 모든 곳에 무분별하게 적용하면 오히려 **성능 저하** 발생
- 꼭 **필요한 부분에만 선택적으로 적용**해야 함

---

## 🧠 동시성이 필요한 상황

### ✅ 검색 필터링 / 자동완성

- 입력 자체는 즉각 반응
- 검색 결과는 트랜지션으로 백그라운드 처리

### ✅ 무한 스크롤

- 스크롤이 최우선
- 데이터 로딩은 지연 가능

### ✅ 애니메이션, 화면 전환

- 클릭과 동시에 부드러운 반응 제공
- 이후 로딩은 천천히 처리

---

동시성 기능은 리액트 앱의 **응답성과 부드러운 사용자 경험**을 높이는 핵심 도구입니다.
꼭 필요한 곳에만 똑똑하게 활용하세요!
