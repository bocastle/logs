## π”„ useEffect vs π€ Suspense: λ΅λ”© μƒνƒ κ΄€λ¦¬ λ°©μ‹ λΉ„κµ

### π§  μ „ν†µμ μΈ λ°©μ‹ - `useEffect + loading state`

`useEffect()`μ™€ λ³„λ„μ `isLoading` μƒνƒλ¥Ό ν™μ©ν•μ—¬ λ΅λ”© μƒνƒλ¥Ό μλ™μΌλ΅ μ μ–΄ν•©λ‹λ‹¤.

```tsx
const [isLoading, setIsLoading] = useState(true);

useEffect(() => {
  fetchData().then(() => {
    setIsLoading(false);
  });
}, []);
```

- λ°μ΄ν„°λ¥Ό μ”μ²­ν•κΈ° μ „: `isLoading = true`
- λ°μ΄ν„°λ¥Ό λ¨λ‘ λ°›μ•„μ¨ ν›„: `isLoading = false`
- μ΅°κ±΄λ¶€ λ λ”λ§μ„ ν†µν•΄ λ΅λ”© UI μ μ–΄

β— **λ‹¨μ **

- μ—¬λ¬ λΉ„λ™κΈ° μ‘μ—…μ΄ μ¤‘μ²©λλ©΄ μƒνƒ κ΄€λ¦¬ λ° μ΅°κ±΄λ¶€ λ λ”λ§μ΄ λ³µμ΅ν•΄μ§
- λ§¤λ² λ΅λ”© μƒνƒλ¥Ό μ§μ ‘ μ μ–΄ν•΄μ•Ό ν•λ―€λ΅ λ°λ³µ μ½”λ“κ°€ λ§μ•„μ§ μ μμ

---

### π€ μ„ μ–Έν• λ°©μ‹ - `Suspense`

Reactμ `Suspense`λ” **λ°μ΄ν„° μ¤€λΉ„κ°€ μ™„λ£λ  λ•κΉμ§€** `fallback` UIλ¥Ό λ³΄μ—¬μ£Όλ” λ°©μ‹μ…λ‹λ‹¤.

```tsx
<Suspense fallback={<LoadingSpinner />}>
  <SomeComponent />
</Suspense>
```

- λ΅λ”© μ¤‘μ—λ” `fallback`μΌλ΅ μ§€μ •ν• μ»΄ν¬λ„νΈλ§ λ³΄μ—¬μ§
- λ°μ΄ν„°κ°€ μ¤€λΉ„λλ©΄ `Suspense` λ‚΄λ¶€ μ»΄ν¬λ„νΈκ°€ μμ—°μ¤λ½κ² λ λ”λ§λ¨

β… **μ¥μ **

- μ„ μ–Έν•μΌλ΅ λ΅λ”© μƒνƒλ¥Ό κ΄€λ¦¬ β†’ μ½”λ“ κ°„κ²°ν•΄μ§
- `React.lazy()` λ° `λ°μ΄ν„° ν¨μΉ­ λΌμ΄λΈλ¬λ¦¬`μ™€ ν•¨κ» μ‚¬μ© κ°€λ¥
- μ μ§€λ³΄μκ°€ μ‰¬μ›€

---

### β οΈ Suspenseμ λ‹¨μ μ€ λ¬΄μ—‡μΌκΉμ”? π¤”

- **νΈλ¦¬ κµ¬μ΅°κ°€ λ³µμ΅ν•  κ²½μ°**, μ—¬λ¬ `Suspense`κ°€ μ¤‘μ²©λμ–΄ κ°κΈ° λ‹¤λ¥Έ νƒ€μ΄λ°μΌλ΅ `fallback`μ΄ λ λ”λ§ β†’ μ‚¬μ©μ κ²½ν— μ €ν•
- λ°μ΄ν„° νλ¦„μ„ μ •κµν•κ² μ„¤κ³„ν•μ§€ μ•μΌλ©΄ λ¶μ•μ •ν• λ λ”λ§ λ°μƒ
- **Promise κΈ°λ°**λ§ μ§€μ› β†’ μΌλ°μ μΈ `fetch()`μ—λ” λ°”λ΅ μ‚¬μ© λ¶κ°€  
  β†’ `React Query`, `Relay`, `SWR`, `React Cache` λ“±κ³Ό ν•¨κ» μ‚¬μ©ν•΄μ•Ό ν•¨

---

### β… κ²°λ΅ 

| ν•­λ©             | useEffect λ°©μ‹               | Suspense λ°©μ‹         |
| ---------------- | ---------------------------- | --------------------- |
| λ΅λ”© μƒνƒ κ΄€λ¦¬   | μλ™ μƒνƒ κ΄€λ¦¬ (`isLoading`) | μ„ μ–Έν• (`fallback`)   |
| μ½”λ“ κ°„κ²°μ„±      | λ°λ³µ μ½”λ“ λ§μ               | μ½”λ“ κ°„κ²°             |
| λΉ„λ™κΈ° μ²λ¦¬ λ°©μ‹ | μ–΄λ–¤ λΉ„λ™κΈ°λ“  μ‚¬μ© κ°€λ¥      | Promise κΈ°λ°λ§ μ§€μ›   |
| μ„¤κ³„ λ‚μ΄λ„      | λ‹¨μ                         | νΈλ¦¬ κµ¬μ΅° κ³ λ ¤ ν•„μ”   |
| μ ν•©ν• μƒν™©      | κ°„λ‹¨ν• μ”μ²­                  | λ€κ·λ¨ νΈλ¦¬/λ³µμ΅ν• μ•± |

π“ **Tip:** λ‹¨μν• μ”μ²­μ—λ” `useEffect`,  
λ³µμ΅ν•κ±°λ‚ μ„ μ–Έν• λ°©μ‹μ΄ μ λ¦¬ν• μƒν™©μ—λ” `Suspense`λ¥Ό μ„ νƒν•μ„Έμ”.
