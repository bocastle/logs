# 🧠 localStorage vs sessionStorage 정리

## 📦 공통점

- 둘 다 **브라우저에서 제공하는 Web Storage API**입니다.
- 데이터를 **Key-Value 쌍**으로 저장합니다.
- 클라이언트 측에서 동작하므로, 서버와의 통신 없이도 빠른 접근이 가능합니다.

---

## ⚖️ 주요 차이점

| 항목        | localStorage                            | sessionStorage                             |
| ----------- | --------------------------------------- | ------------------------------------------ |
| 저장 지속성 | 브라우저를 닫아도 **영구적**으로 유지됨 | 탭/창을 닫으면 **자동 삭제**됨             |
| 탭 간 공유  | 동일 도메인 내 **모든 탭에서 공유**     | 탭 간 **공유되지 않음**                    |
| 용량 제한   | 약 5MB                                  | 약 5MB                                     |
| 사용 목적   | 사용자 설정, 장바구니 등 장기 데이터    | 로그인 세션, 임시 폼 데이터 등 단기 데이터 |

---

## 💡 사용 예시

- **localStorage**

  - 다크모드 설정
  - 장바구니 정보 저장
  - 마지막 방문 페이지 기록

- **sessionStorage**
  - 로그인 후 토큰 임시 저장
  - 탭에서만 유효한 작업 상태 저장
  - 일회성 입력값 저장

---

## 🛡️ 보안 이슈 및 주의사항

### ❗ 스토리지를 사용할 때 발생할 수 있는 문제

- JavaScript를 통해 접근 가능하므로 **XSS(크로스 사이트 스크립팅)**에 취약함
- **localStorage는 데이터가 영구적으로 유지**되어 민감한 정보 노출 위험 증가
- **sessionStorage도 JavaScript로 접근 가능**하므로 완전한 보호 수단은 아님

### ✅ 해결 방법

- **민감한 데이터는 절대 저장하지 않기**
  - 예: 비밀번호, 인증 토큰 등
- **HTTP-Only 쿠키 사용**
  - JavaScript로 접근할 수 없음 → XSS 공격에 안전
  - 서버에서만 읽고 쓸 수 있음
- **Content Security Policy (CSP)** 설정으로 XSS 완화
- 필요 시 데이터 **암호화**하여 저장하되, 복호화 키 관리에 주의

---

## 🧾 결론

- `localStorage`: 장기적인 데이터 저장 (ex. 사용자 설정)
- `sessionStorage`: 세션 단위의 임시 저장 (ex. 로그인 상태)

👉 보안이 중요한 데이터는 **절대 스토리지에 저장하지 말고**, HTTP-Only 쿠키 등 **서버 중심의 보안 수단**을 사용해야 합니다.
